from django.http import JsonResponse
from .utils import (
    check_dns_measurements,
    check_as_for_probes,
)

result = {
    "average": 59.4,
    "data": {
        "ALB": 31.8,
        "AND": 21.4,
        "ARE": 26.7,
        "ARG": 92.4,
        "ARM": 66.2,
        "AUS": 36.2,
        "AUT": 24.6,
        "AZE": 76.7,
        "BEL": 25.3,
        "BGD": 53.4,
        "BGR": 47.8,
        "BIH": 25.6,
        "BLM": 244.5,
        "BLR": 41.4,
        "BOL": 91.2,
        "BRA": 44.3,
        "BRB": 50.9,
        "BWA": 57.4,
        "CAN": 39.0,
        "CHE": 19.0,
        "CHL": 98.2,
        "CHN": 127.1,
        "COL": 82.8,
        "CZE": 19.3,
        "DEU": 25.0,
        "DJI": 79.1,
        "DNK": 23.1,
        "DOM": 27.3,
        "ECU": 96.9,
        "ESP": 68.1,
        "EST": 42.9,
        "FIN": 42.8,
        "FRA": 24.8,
        "GBR": 23.3,
        "GEO": 67.3,
        "GHA": 182.4,
        "GLP": 81.1,
        "GRC": 44.2,
        "HKG": 13.9,
        "HRV": 23.0,
        "HUN": 43.5,
        "IDN": 72.1,
        "IMN": 47.3,
        "IND": 102.0,
        "IRL": 19.7,
        "IRN": 158.5,
        "IRQ": 11.1,
        "ISL": 98.1,
        "ISR": 63.4,
        "ITA": 29.3,
        "JOR": 70.3,
        "JPN": 49.2,
        "KAZ": 94.3,
        "KOR": 66.3,
        "KWT": 19.7,
        "LBN": 28.3,
        "LIE": 13.5,
        "LKA": 42.6,
        "LTU": 31.4,
        "LUX": 24.1,
        "LVA": 54.5,
        "MDA": 15.4,
        "MDG": 257.1,
        "MEX": 51.4,
        "MLT": 31.8,
        "MYS": 62.1,
        "NAM": 42.2,
        "NLD": 12.7,
        "NOR": 50.0,
        "NZL": 111.9,
        "PER": 107.0,
        "PHL": 72.5,
        "POL": 21.7,
        "PRT": 46.3,
        "PYF": 99.1,
        "REU": 72.7,
        "ROU": 36.8,
        "RUS": 62.5,
        "SAU": 79.1,
        "SGP": 67.1,
        "SRB": 35.9,
        "SVK": 24.5,
        "SVN": 21.7,
        "SWE": 25.1,
        "THA": 66.3,
        "TTO": 50.8,
        "TUN": 66.5,
        "TUR": 48.7,
        "TWN": 34.0,
        "TZA": 78.4,
        "UKR": 52.1,
        "URY": 39.9,
        "USA": 42.3,
        "UZB": 78.9,
        "VEN": 89.4,
        "VNM": 91.1,
        "YEM": 221.8,
        "ZAF": 88.6,
        "ZMB": 21.6,
        "ZWE": 18.3,
    },
    "max": 257.1,
    "min": 11.1,
}

result2 = {
    "average": 146.0,
    "data": {
        "ALB": 93.0,
        "AND": 21.4,
        "ARE": 38.6,
        "ARG": 452.6,
        "ARM": 74.5,
        "ATA": 977.8,
        "AUS": 73.3,
        "AUT": 34.9,
        "AZE": 60.8,
        "BEL": 21.0,
        "BGD": 50.3,
        "BGR": 42.6,
        "BHR": 9.8,
        "BIH": 255.8,
        "BLM": 117.9,
        "BLR": 40.2,
        "BLZ": 820.6,
        "BOL": 342.2,
        "BRA": 158.6,
        "BRN": 80.4,
        "CAN": 55.9,
        "CHE": 23.8,
        "CHL": 153.7,
        "CHN": 158.2,
        "COD": 69.8,
        "COK": 142.9,
        "COL": 79.4,
        "CRI": 308.0,
        "CUW": 162.5,
        "CYM": 88.7,
        "CYP": 210.4,
        "CZE": 26.8,
        "DEU": 33.4,
        "DJI": 80.1,
        "DNK": 27.7,
        "DOM": 98.3,
        "DZA": 117.1,
        "ECU": 253.7,
        "EGY": 80.1,
        "ESP": 29.0,
        "EST": 80.3,
        "FIN": 48.4,
        "FJI": 37.6,
        "FRA": 71.6,
        "FSM": 757.4,
        "GBR": 24.4,
        "GHA": 589.0,
        "GLP": 36.0,
        "GRC": 44.6,
        "GTM": 123.8,
        "GUM": 121.6,
        "HKG": 52.5,
        "HND": 92.0,
        "HRV": 21.6,
        "HUN": 46.3,
        "IDN": 54.1,
        "IMN": 72.3,
        "IND": 124.3,
        "IRL": 20.2,
        "IRN": 111.0,
        "IRQ": 11.8,
        "ISR": 69.1,
        "ITA": 39.0,
        "JOR": 64.3,
        "JPN": 46.4,
        "KAZ": 128.7,
        "KEN": 155.9,
        "KGZ": 89.9,
        "KOR": 139.7,
        "LBN": 77.5,
        "LCA": 79.3,
        "LIE": 13.9,
        "LTU": 30.2,
        "LUX": 112.2,
        "LVA": 94.8,
        "MAR": 313.0,
        "MDA": 11.3,
        "MEX": 58.4,
        "MMR": 52.0,
        "MNE": 80.7,
        "MNG": 122.8,
        "MUS": 2712.9,
        "MWI": 226.5,
        "MYS": 66.4,
        "NCL": 23.2,
        "NLD": 23.3,
        "NOR": 53.7,
        "NPL": 180.9,
        "NZL": 104.1,
        "OMN": 62.8,
        "PAN": 366.7,
        "PER": 216.4,
        "PHL": 51.4,
        "PNG": 82.6,
        "POL": 31.0,
        "PRI": 42.9,
        "PRT": 47.6,
        "PRY": 308.6,
        "PSE": 190.5,
        "PYF": 152.5,
        "REU": 172.3,
        "ROU": 39.3,
        "RUS": 100.6,
        "RWA": 194.9,
        "SAU": 65.5,
        "SEN": 60.1,
        "SGP": 39.4,
        "SJM": 229.4,
        "SMR": 9.1,
        "SRB": 29.9,
        "SSD": 194.9,
        "SUR": 91.5,
        "SVK": 21.6,
        "SVN": 29.3,
        "SWE": 23.2,
        "TGO": 497.1,
        "THA": 196.8,
        "TON": 46.4,
        "TTO": 47.7,
        "TUN": 61.9,
        "TUR": 62.5,
        "TWN": 55.7,
        "TZA": 107.1,
        "UKR": 53.7,
        "URY": 293.1,
        "USA": 67.6,
        "UZB": 380.8,
        "VEN": 117.5,
        "VNM": 92.1,
        "VUT": 111.1,
        "WSM": 253.1,
        "ZAF": 93.2,
        "ZMB": 0,
        "ZWE": 498.3,
    },
    "max": 2712.9,
    "min": 0,
}


def dns_data(request, first_date, second_date):
    if first_date == second_date:
        dns_result = check_dns_measurements(first_date)
        return JsonResponse(
            {
                "result1": dns_result,
                "result2": dns_result,
            }
        )
    else:
        # ! for demo purposes only
        return JsonResponse(
            {
                "result1": result,
                "result2": result2,
            }
        )
        return JsonResponse(
            {
                "result1": check_dns_measurements(first_date),
                "result2": check_dns_measurements(second_date),
            }
        )

def ipv6_data(request,country, first_date, second_date):
    ipv6_result = check_as_for_probes(country, first_date, second_date)
    print(ipv6_result)
    return JsonResponse({"data":ipv6_result})
